<div id="reportModal" class="modal" role="dialog">
    <div class="modal-dialog modal-lg-custom">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button"
                        class="close"
                        ng-click="reportModal.hide()">&times;</button>
                <h4 class="modal-title">VirtualHost Report</h4>
            </div>
            <div class="modal-body">
                <ul class="tree">
                    <li id="report-first-item">
                        <a data-placement="right" data-auto-close="true" bs-popover data-html="true"
                           data-title="ID: {{ manager.selectedResource.id }} - {{ manager.selectedResource.name }}"
                           data-content="Sync: <b>{{manager.selectedResource.status}}</b>
                           <br>Environment: <b>{{manager.selectedResource.environment}}</b>
                           <br>{{manager.selectedResource.tooltip}}
                           <br>Rule(s): <b>{{manager.selectedResource.rules.length}}</b>">
                            <gw-sync status="{{ manager.selectedResource.status }}"></gw-sync>
                            &nbsp;{{ manager.selectedResource.name }}
                        </a>
                        <ul>
                            <li ng-repeat="rule in manager.selectedResource.rules">
                                <a data-placement="right" data-auto-close="true" bs-popover data-html="true"
                                   data-title="ID: {{ rule.id }} - {{ rule.name }}"
                                   data-content="Sync: <b>{{rule.status}}</b> <br>Global: <b>{{rule.global}}</b>">
                                    <gw-sync status="{{ rule.status }}"></gw-sync>
                                    &nbsp;{{ rule.match }}
                                </a>
                                <ul>
                                    <li>
                                        <a data-placement="right" data-auto-close="true" bs-popover data-html="true"
                                           data-title="ID: {{ rule.pool.id }} - {{ rule.pool.name }}"
                                           data-content="Sync: <b>{{ rule.pool.status }}</b>
                                           <br>Environment: <b>{{rule.pool.environment}}</b>
                                           <br>Balance Policy: <b>{{rule.pool.balance}}</b>
                                           <br>{{ rule.pool.tooltip }}
                                           <br>Target(s): <b>{{rule.pool.targets.length}}</b>">
                                            <gw-sync status="{{ rule.pool.status }}"></gw-sync>
                                            &nbsp;{{ rule.pool.name }}
                                        </a>
                                        <ul>
                                            <li ng-repeat="target in rule.pool.targets">
                                                <a data-placement="right" data-auto-close="true" bs-popover data-html="true"
                                                   data-title="ID: {{ target.id }} - {{ target.name }}"
                                                   data-content="Sync: <b>{{target.status}}</b>
                                                   <br>Health: <b>{{ target.healthy }}</b>
                                                   {{ target.detailed }}">
                                                    <gw-health status="{{ target.healthy }}" message="{{ target.status_detailed }}"></gw-health>
                                                    &nbsp;{{ target.name }}
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
                <div class="clearfix"></div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-default" type="button" ng-click="reportModal.hide()">Close</button>
            </div>
        </div>
    </div>
</div>
